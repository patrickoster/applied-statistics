---
title: "Factor Analysis"
author: "Patrick Oster"
date: "11/13/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(haven)
library(psych)
library(GPArotation)
fa.data <- read_sav("/Users/Patrick/Dropbox/data/factor_analysis/FA_ex_data.sav")
```
[Home Page](https://patrickoster.github.io/)

### Data
This data comes from an example in SPSS performed by Dr. James Sidanius of UCLA adapted to R. These data come from a survey of students at the University of Texas on their level of satisfaction with their instructor.

Looking into the survey
```{r}
survey.questions <- fa.data %>% select(c("ITEM13", "ITEM14", "ITEM15", "ITEM16", "ITEM17", "ITEM18", "ITEM19", "ITEM20", "ITEM21", "ITEM22", "ITEM23", "ITEM24"))
sapply(survey.questions, attr, which = "label")
summary(survey.questions)
```

Performing Factor Analysis
```{r}
equation <- formula( ~ ITEM13 + ITEM14 + ITEM15 + ITEM16 + ITEM17 + ITEM18 + ITEM19 + ITEM20 + ITEM21 + ITEM22 + ITEM23 + ITEM24)
FA.norotation <- factanal(x = equation, factors = 3, data = fa.data, rotation = "none")
FA.varimax <- factanal(x = equation, factors = 3, data = fa.data, rotation = "varimax")
FA.promax <- factanal(x = equation, factors = 3, data = fa.data, rotation = "promax")
```

Looking at the Factor Analysis Object
```{r}
summary(FA.varimax)
FA.varimax$correlation
FA.varimax$rotmat
```


```{r}
FA.norotation
```

Varimax Rotation Method
```{r}
FA.varimax
FA.varimax$rotmat
```
Rotation Sums of Squared Loadings: the values of the table represent the distribution of the variance after the varimax rotation.
Factor Matrix: this table contains the unrotated factor loadings, which are the correlations between the variable and the factor.  
Rotated Factor Matrix: this table contains the rotated factor loadings (factor pattern matrix), which represent both how the variables are weighted for each factor but also the correlation between the variables and the factor.

Promax Rotation Method
```{r}
FA.promax
FA.promax$rotmat
```


